<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gateways 2022</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        h1 {text-align: center;}
    </style>
</head>

<body>

    <h1>Technovid</h1>
    <h1>Christ Deemed to be University</h1>
    <div class="animate__animated animate__backInRight" style="padding: 1rem; ">
        <div class="mx-3 py-5 shadow-lg" style=" background-color:black; border-radius: 25px;">

            <div class="mx-5 md:mt-0 md:col-span-2">
                <form>
                    <div class="p-3 mb-5 bg-light rounded" style=" background-color: #ffffff; border-radius: 40px;">
                        <div class="px-4 py-5 bg-white sm:p-6">
                            <div class="grid grid-cols-6 gap-6">
                                <div class="col-span-6 sm:col-span-2">
                                    <label for="user_name" class="form-label">Name<font color="red">*</font></label>
                                    <input type="text" class="form-control" id="user_name"
                                        style="height: 20px; font-size: medium; padding: 20px 20px; border: 2px solid red"
                                        required>
                                </div>
                                <div class="col-span-6 sm:col-span-3">
                                    <label for="user_email" class="form-label">Email Address<font color="red">*</font>
                                    </label>
                                    <input type="text" class="form-control" id="user_email"
                                        placeholder="name@christuniversity.com"
                                        style="height: 20px; font-size: medium; padding: 20px 20px; border: 2px solid red"
                                        required>
                                    <span id="user_email_validate"></span>
                                </div>
                                <div class="container mb-3">
                                    <label for="user_branch" class="form-label">Branch</label>
                                    <input type="text" class="form-control" id="user_branch" placeholder="Department"
                                        style="height: 20px; font-size: medium; padding: 20px 20px; border: 2px solid red">
                                </div>
                                <div class="container mb-3">
                                    <label for="user_college" class="form-label">College/University</label>
                                    <input type="text" class="form-control" id="user_college"
                                        style="height: 20px; font-size: medium; padding: 20px 20px; border: 2px solid red">
                                </div>
                                <div class="container mb-3">
                                    <label for="user_phone" class="form-label">Phone Num<font color="red">*</font>
                                    </label>
                                    <input type="text" class="form-control" id="user_phone" maxlength="10"
                                        style="height: 20px; font-size: medium; padding: 20px 20px; border: 2px solid red"
                                        required>
                                    <span id="user_phone_validate"></span>
                                </div>
                                <div class="container mb-3">
                                    <label for="user_pswd" class="form-label">Password<font color="red">*</font></label>
                                    <input type="password" class="form-control" id="user_pswd"
                                        style="height: 20px; font-size: medium; padding: 20px 20px; border: 2px solid red"
                                        required>
                                    <span id="user_pswd_validate"></span>
                                </div>
                                <div class="container mb-3">
                                    <label for="State" class="block text-lg font-medium text-blue-700">State</label>
                                    <select id="State" name="State" autocomplete="State-name" class="mt-1 block w-full py-2 px-3 border border-red-800 bg-white rounded-md shadow-sm 
                focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                                        <option value="Andhra Pradesh">Andhra Pradesh</option>
                                        <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                                        <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                        <option value="Assam">Assam</option>
                                        <option value="Bihar">Bihar</option>
                                        <option value="Chandigarh">Chandigarh</option>
                                        <option value="Chhattisgarh">Chhattisgarh</option>
                                        <option value="Dadar and Nagar Haveli">Dadar and Nagar Haveli</option>
                                        <option value="Daman and Diu">Daman and Diu</option>
                                        <option value="Delhi">Delhi</option>
                                        <option value="Lakshadweep">Lakshadweep</option>
                                        <option value="Puducherry">Puducherry</option>
                                        <option value="Goa">Goa</option>
                                        <option value="Gujarat">Gujarat</option>
                                        <option value="Haryana">Haryana</option>
                                        <option value="Himachal Pradesh">Himachal Pradesh</option>
                                        <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                        <option value="Jharkhand">Jharkhand</option>
                                        <option value="Karnataka">Karnataka</option>
                                        <option value="Kerala">Kerala</option>
                                        <option value="Madhya Pradesh">Madhya Pradesh</option>
                                        <option value="Maharashtra">Maharashtra</option>
                                        <option value="Manipur">Manipur</option>
                                        <option value="Meghalaya">Meghalaya</option>
                                        <option value="Mizoram">Mizoram</option>
                                        <option value="Nagaland">Nagaland</option>
                                        <option value="Odisha">Odisha</option>
                                        <option value="Punjab">Punjab</option>
                                        <option value="Rajasthan">Rajasthan</option>
                                        <option value="Sikkim">Sikkim</option>
                                        <option value="Tamil Nadu">Tamil Nadu</option>
                                        <option value="Telangana">Telangana</option>
                                        <option value="Tripura">Tripura</option>
                                        <option value="Uttar Pradesh">Uttar Pradesh</option>
                                        <option value="Uttarakhand">Uttarakhand</option>
                                        <option value="West Bengal">West Bengal</option>
                                    </select>
                                </div>
                                <div class="container mb-3">
                                    <label for="user_loc" class="form-label">Address</label>
                                    <input type="text" class="form-control" id="user_loc"
                                        style="height: 20px; font-size: medium; padding: 20px 20px; border: 2px solid red">
                                </div>
                                <div class="container mb-3">
                                    <label for="user_age_label" class="form-label">Age<font color="red">*</font></label>
                                    <input type="text" class="form-control" id="user_age"
                                        placeholder="Enter your age..." maxlength="2"
                                        style="height: 20px; font-size: medium; padding: 20px 20px; border: 2px solid red"
                                        required>
                                    <span id="user_age_validate"></span>

                                </div>
                                <button type="button" onclick="download(this.form)" id="submitButton"
                                    style="background-color: blue;"
                                    class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 ">
                                    Submit</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script>
        var user_name = document.getElementById("user_name")
var user_email = document.getElementById("user_email")
var user_phone = document.getElementById("user_phone")
var user_pswd = document.getElementById("user_pswd")
//var user_dept = document.getElementById("user_dept")
var user_loc = document.getElementById("user_loc")
var user_age = document.getElementById("user_age")


//event listener to lock numbers for name
user_name.addEventListener('keydown', (e)=>{
    if(/^[^a-zA-Z ]$/.test(e.key))
    {
        e.preventDefault()
    }
})

//event listener to lock characters for phone number
user_phone.addEventListener('keydown', (e)=>{
    if(/^[^0-9]$/.test(e.key))
    {
        e.preventDefault()
    }
})

//event listener to lock numbers for department
//user_dept.addEventListener('keydown', (e)=>{
  //  if(/^[^a-zA-Z ]$/.test(e.key))
    //{
       // e.preventDefault()
   // }
//})

//event listener to lock numbers for location
user_loc.addEventListener('keydown', (e)=>{
    if(/^[^a-zA-Z ]$/.test(e.key))
    {
        e.preventDefault()
    }
})

//event listener to check for age

user_age.addEventListener('keydown', (e)=>{
    let x = document.getElementById("user_age").value;
    let text;

    var validate_span = document.getElementById("user_age_validate")
    if(x.length > 2)
    {
        e.preventDefault()
    }
    else
    {
        if(x.length == 0)
        {
            validate_span.style.color = 'red'
            validate_span.innerHTML = 'Age is required'
        }
        else if(x.length == 1)
        {
            if(x == 0)
            {
                validate_span.style.color = 'red'
                validate_span.innerHTML = 'Age cannot be 0'
            }
            else
            {
                validate_span.style.color = 'green'
                validate_span.innerHTML = 'Age is valid'
            }
        }
        else if(x.length == 2)
        {
            if(x == 10)
            {
                validate_span.style.color = 'red'
                validate_span.innerHTML = 'Age cannot be 10'
            }
            else
            {
                validate_span.style.color = 'green'
                validate_span.innerHTML = 'Age is valid'
            }
        }
    }
})

//event listener to validate user email
user_email.addEventListener('blur', ()=>{
    const email_pattern = /^([a-z0-9_\.]+)@(([a-z0-9]+)\.){2}([a-z]{2,3})$/
    var validate_span = document.getElementById("user_email_validate")
    if(email_pattern.test(user_email.value.trim()))
    {
        validate_span.style.color = 'green'
        validate_span.innerHTML = 'Valid Email'
        document.cookie = "user_email="+user_email.value.trim()
        localStorage.setItem("user_email", user_email.value.trim())
    }
    else
    {
        alert('Invalid Email')
        validate_span.style.color = 'red'
        onblur
        if (user_email.value.trim() == '')
        {
            validate_span.innerHTML = 'Email Required'
        }
        else
        {
            validate_span.innerHTML = 'Invalid Email'
        }
    }
})

//event listener to validate user phone
user_phone.addEventListener('keyup', ()=>{
    const phone_pattern = /^[0-9]{10}$/
    var validate_span = document.getElementById("user_phone_validate")
    if(phone_pattern.test(user_phone.value.trim()))
    {
        validate_span.style.color = 'green'
        validate_span.innerHTML = 'Valid Phone'
        localStorage.setItem("user_phone", user_phone.value.trim())
    }
    else
    {
        validate_span.style.color = 'red'
        if (user_phone.value.trim() == '')
        {
            validate_span.innerHTML = 'Phone Required'
        }
        else
        {
            validate_span.innerHTML = 'Invalid Phone'
        }
    }
})

//event listener to validate user password
user_pswd.addEventListener('keyup', ()=>{
    var validate_span = document.getElementById("user_pswd_validate")
    if (user_pswd.value.trim() == '')
    {
        validate_span.style.color = 'red'
        validate_span.innerHTML = 'Password Required'
    }
    else
    {
        if(/^(.){8,20}$/.test(user_pswd.value.trim()))
        {
            validate_span.style.color = 'red'
            validate_span.innerHTML = 'Strength: Weak'
            if((user_pswd.value.trim().match(/[A-Z]/)) && (user_pswd.value.trim().match(/[a-z]/)))
            {
                validate_span.style.color = 'yellow'
                validate_span.innerHTML = 'Strength: Medium'
            }
            if((user_pswd.value.trim().match(/[0-9]/)) && (user_pswd.value.trim().match(/[\W]/)))
            {
                validate_span.style.color = 'green'
                validate_span.innerHTML = 'Strength: Strong'
            }
        }
        else
        {
            validate_span.style.color = 'red'
            validate_span.innerHTML = 'Invalid Password'
        }
    }
})



function downloadData(contentType,data,filename){

    var link=document.createElement("A");
    link.setAttribute("href",encodeURI("data:"+contentType+","+data));
    link.setAttribute("style","display:none");
    link.setAttribute("download",filename);
    document.body.appendChild(link); //needed for firefox
    link.click();
    setTimeout(function(){
     document.body.removeChild(link); //only to remove the temporal link
    },1000);
 }


 function fromToXml(form){
    var xmldata=['<?xml version="1.0"?>'];
	  xmldata.push("<form>");
    var inputs=form.elements;
    for(var i=0;i<inputs.length;i++){
    	var el=document.createElement("ELEMENT");
      if (inputs[i].id){
      	el.setAttribute("id",inputs[i].id);
        el.setAttribute("value",inputs[i].value);
        xmldata.push(el.outerHTML);
      }
      
    }
    xmldata.push("</form>");
    return xmldata.join("\n");
}

function download(frm){

	var data=fromToXml(frm);
  console.log(data);
  
  downloadData("text/xml",data,"export.xml");
}
    </script>
    <script src="java.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
</body>

</html>